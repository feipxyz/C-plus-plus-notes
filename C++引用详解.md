# C++引用详解

@(c++高级)

### **引用的概念**  
---
引用：**就是某一变量（目标）的一个别名，对引用的操作与对变量直接操作完全一样。**  
引用的声明方法：类型标识符 `&引用名=目标变量名`；

如下：定义引用ra，它是变量a的引用，即别名。
```cpp
int a;
int &ra=a;
```
（1）&在此不是求地址运算符，而是起标识作用。  
（2）类型标识符是指目标变量的类型。  
（3）**声明引用时，必须同时对其进行初始化。**
（4）引用声明完毕后，相当于目标变量有两个名称即该目标原名称和引用名，且不能再把该引用名作为其他变量名的别名。
（5）声明一个引用，不是新定义了一个变量，它只表示该引用名是目标变量名的一个别名，它本身不是一种数据类型，**因此引用本身不占存储单元，系统也不给引用分配存储单元。故：对引用求地址，就是对目标变量求地址。&ra与&a相等。**
（6）**不能建立数组的引用。因为数组是一个由若干个元素所组成的集合，所以无法建立一个数组的别名。**  

---

### **引用的应用**
#### 1. 引用作为参数  

引用的一个重要作用就是作为函数的参数。以前的C语言中函数参数传递是值传递，如果有大块数据作为参数传递的时候，采用的方案往往是指针，因为这样可以避免将整块数据全部压栈，可以提高程序的效率。但是C++中又增加了一种同样有效率的选择（在某些特殊情况下又是必须的选择），就是引用。

(1)传递引用给函数与传递指针的效果是一样的。这时，被调函数的形参就成为原来主调函数中的实参变量或对象的一个别名来使用，所以在被调函数中对形参变量的操作就是对其相应的目标对象（在主调函数中）的操作。

(2)**使用引用传递函数的参数，在内存中并没有产生实参的副本，它是直接对实参操作；而使用一般变量传递函数的参数，当发生函数调用时，需要给形参分配存储单元，形参变量是实参变量的副本；如果传递的是对象，还将调用拷贝构造函数。因此，当参数传递的数据较大时，用引用比用一般变量传递参数的效率和所占空间都好。**

(3)**使用指针作为函数的参数虽然也能达到与使用引用的效果，但是，在被调函数中同样要给形参分配存储单元**，且需要重复使用\"*指针变量名\"的形式进行运算，这很容易产生错误且程序的阅读性较差；另一方面，在主调函数的调用点处，必须用变量的地址作为实参。而引用更容易使用，更清晰。     

#### 2. 常引用  

常引用声明方式：const  类型标识符  &引用名 = 目标变量名；  
用这种方式声明的引用，不能通过引用对目标变量的值进行修改,从而使引用的目标成为const，达到了引用的安全性。





